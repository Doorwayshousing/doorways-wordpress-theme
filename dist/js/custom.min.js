function createDonutCharts(){console.log("createDonutCharts"),$("<style type='text/css' id='dynamic' />").appendTo("head"),$("div[chart-type*=donut]").each(function(){var a=$(this),b=$(this).attr("id"),c=$(this).data("chart-max"),d="",e="",f=0;$(this).data("chart-text")&&(d=$(this).data("chart-text")),$(this).data("chart-caption")&&(e=$(this).data("chart-caption")),$(this).data("chart-initial-rotate")&&(f=$(this).data("chart-initial-rotate"));for(var g=$(this).data("chart-segments"),h=0;h<Object.keys(g).length;h++){var i=g[h],j=i[0]/c*360+f,k=i[1]/c*360;i[1]>=c/2?a.append('<div class="large donut-bite" data-segment-index="'+h+'"> '):a.append('<div class="donut-bite" data-segment-index="'+h+'"> ');var l=$("#dynamic").text()+"#"+b+' .donut-bite[data-segment-index="'+h+'"]{-moz-transform:rotate('+j+"deg);-ms-transform:rotate("+j+"deg);-webkit-transform:rotate("+j+"deg);-o-transform:rotate("+j+"deg);transform:rotate("+j+"deg);}#"+b+' .donut-bite[data-segment-index="'+h+'"]:BEFORE{-moz-transform:rotate('+k+"deg);-ms-transform:rotate("+k+"deg);-webkit-transform:rotate("+k+"deg);-o-transform:rotate("+k+"deg);transform:rotate("+k+"deg); background-color: "+i[2]+";}#"+b+' .donut-bite[data-segment-index="'+h+'"]:BEFORE{ background-color: '+i[2]+";}#"+b+' .donut-bite[data-segment-index="'+h+'"].large:AFTER{ background-color: '+i[2]+";}";$("#dynamic").text(l)}a.children().first().before("<div class='donut-hole'><span class='donut-filling'>"+d+"</span></div>"),a.append("<div class='donut-caption-wrapper'><span class='donut-caption'>"+e+"</span></div>")})}PayJS(["jquery","PayJS/Core","PayJS/Request","PayJS/Response","PayJS/Formatting","PayJS/Validation"],function(a,b,c,d,e,f){function g(a,b){console.log("toggleClasses"),a?(b.addClass("has-success").removeClass("has-error"),b.children(".help-block").text("Valid")):(b.removeClass("has-success").addClass("has-error"),b.children(".help-block").text("Invalid"))}function h(){console.log("checkForCompleteAndValidForm");var b=!0;a.each(a(".billing"),function(){b=b&&a(this).hasClass("has-success")}),k&&j&&i&&b?(a("#paymentButton").prop("disabled",!1).addClass("not-disabled"),console.log("form is now valid.")):console.log("form is not yet valid.")}a("#paymentButton").prop("disabled",!0),console.log("function under PayJS."),console.log(b);var i=!1,j=!1,k=!1;console.log("console.log before CORE.Initialize"),b.Initialize({apiKey:"<?php echo $developer['ID']; ?>",environment:"<?php echo $request['environment']; ?>",postbackUrl:"<?php echo $request['postbackUrl']; ?>",merchantId:"<?php echo $merchant['ID']; ?>",authKey:"<?php echo $authKey; ?>",nonce:"<?php echo $nonces['salt']; ?>",requestType:"<?php echo $requestType; ?>",requestId:"<?php echo $requestId; ?>",amount:"<?php echo $request['amount']; ?>"}),console.log("console.log after CORE.Initialize"),console.log(b),a("#paymentButton").click(function(){console.log("paymentButton click."),a(this).prop("disabled",!0).removeClass("not-disabled"),a("#myCustomForm :input").prop("disabled",!0),b.setBilling({name:a("#billing_name").val(),address:a("#billing_street").val(),city:a("#billing_city").val(),state:a("#billing_state").val(),postalCode:a("#billing_zip").val()});var e=a("#cc_number").val();console.log("cc_number: "+e);var f=a("#cc_expiration").val();console.log("cc_expiration: "+f);var g=a("#cc_cvv").val();console.log("CVV: "+g),c.doPayment(e,f,g,function(b){d.tryParse(b),console.log("$RESPONSE.getResponse: "+d.getResponse()),a("#paymentResponse").text(d.getTransactionSuccess()?"APPROVED":"DECLINED")})}),a(".billing .form-control").blur(function(){console.log("billing form-control blur"),g(a(this).val().length>0,a(this).parent()),h()}),a("#cc_number").blur(function(){console.log("cc_number blur");var b=a("#cc_number").val();b=e.formatCardNumberInput(b,"-"),a("#cc_number").val(b),i=f.isValidCreditCard(b),g(i,a("#cc-group")),h()}),a("#cc_expiration").blur(function(){console.log("cc expiration blur");var b=a("#cc_expiration").val();b=e.formatExpirationDateInput(b,"/"),a("#cc_expiration").val(b),j=f.isValidExpirationDate(b),g(j,a("#exp-group")),h()}),a("#cc_cvv").blur(function(){console.log("cc cvv blur");var b=a("#cc_cvv").val();b=b.replace(/\D/g,""),a("#cc_cvv").val(b),k=f.isValidCvv(b,a("#cc_number").val()[0]),g(k,a("#cvv-group")),h()})}),$(document).ready(function(){console.log("document ready"),createDonutCharts()});var Doorways=Doorways||{};Doorways.Nav=function(a){"use strict";function b(){e={navContainer:a(".nav-container"),navIcon:a(".nav-icon"),searchIcon:a(".search-icon"),searchContainer:a(".search-container"),searchForm:a(".search-form"),searchIsOpenClass:"search-is-open",searchIsClosedClass:"search-is-closed",navIsOpenClass:"nav-is-open",navIsClosedClass:"nav-is-closed",menu:a(".side-menu")},e.navIcon.click(c),e.searchIcon.click(d)}function c(){e.searchContainer.removeClass(e.searchIsOpenClass),e.navContainer.hasClass(e.navIsOpenClass)?(e.navContainer.find("ul").delay(1e3).addClass(e.navIsClosedClass),e.navContainer.removeClass(e.navIsOpenClass),e.menu.hide()):(e.searchForm.hide(),e.menu.show(),e.navContainer.addClass(e.navIsOpenClass),e.navContainer.find("ul").removeClass(e.navIsClosedClass))}function d(){e.navContainer.removeClass(e.navIsOpenClass),e.searchContainer.hasClass(e.searchIsOpenClass)?(e.searchContainer.find("form").delay(1e3).addClass(e.searchIsClosedClass),e.searchContainer.removeClass(e.searchIsOpenClass),e.searchForm.hide()):(e.menu.hide(),e.searchForm.show(),e.searchContainer.addClass(e.searchIsOpenClass),e.searchContainer.find("form").removeClass(e.searchIsClosedClass))}var e={};return{init:b}}($),$(document).ready(function(){Doorways.Nav.init()}),window.matchMedia=window.matchMedia||function(a){"use strict";var b,c=a.documentElement,d=c.firstElementChild||c.firstChild,e=a.createElement("body"),f=a.createElement("div");return f.id="mq-test-1",f.style.cssText="position:absolute;top:-100em",e.style.background="none",e.appendChild(f),function(a){return f.innerHTML='&shy;<style media="'+a+'"> #mq-test-1 { width: 42px; }</style>',c.insertBefore(e,d),b=42===f.offsetWidth,c.removeChild(e),{matches:b,media:a}}}(document),function(a){"use strict";function b(){v(!0)}var c={};if(a.respond=c,c.update=function(){},c.mediaQueriesSupported=a.matchMedia&&a.matchMedia("only all").matches,!c.mediaQueriesSupported){var d,e,f,g=a.document,h=g.documentElement,i=[],j=[],k=[],l={},m=30,n=g.getElementsByTagName("head")[0]||h,o=g.getElementsByTagName("base")[0],p=n.getElementsByTagName("link"),q=[],r=function(){for(var b=0;p.length>b;b++){var c=p[b],d=c.href,e=c.media,f=c.rel&&"stylesheet"===c.rel.toLowerCase();d&&f&&!l[d]&&(c.styleSheet&&c.styleSheet.rawCssText?(t(c.styleSheet.rawCssText,d,e),l[d]=!0):(!/^([a-zA-Z:]*\/\/)/.test(d)&&!o||d.replace(RegExp.$1,"").split("/")[0]===a.location.host)&&q.push({href:d,media:e}))}s()},s=function(){if(q.length){var b=q.shift();w(b.href,function(c){t(c,b.href,b.media),l[b.href]=!0,a.setTimeout(function(){s()},0)})}},t=function(a,b,c){var d=a.match(/@media[^\{]+\{([^\{\}]*\{[^\}\{]*\})+/gi),e=d&&d.length||0;b=b.substring(0,b.lastIndexOf("/"));var f=function(a){return a.replace(/(url\()['"]?([^\/\)'"][^:\)'"]+)['"]?(\))/g,"$1"+b+"$2$3")},g=!e&&c;b.length&&(b+="/"),g&&(e=1);for(var h=0;e>h;h++){var k,l,m,n;g?(k=c,j.push(f(a))):(k=d[h].match(/@media *([^\{]+)\{([\S\s]+?)$/)&&RegExp.$1,j.push(RegExp.$2&&f(RegExp.$2))),m=k.split(","),n=m.length;for(var o=0;n>o;o++)l=m[o],i.push({media:l.split("(")[0].match(/(only\s+)?([a-zA-Z]+)\s?/)&&RegExp.$2||"all",rules:j.length-1,hasquery:l.indexOf("(")>-1,minw:l.match(/\(\s*min\-width\s*:\s*(\s*[0-9\.]+)(px|em)\s*\)/)&&parseFloat(RegExp.$1)+(RegExp.$2||""),maxw:l.match(/\(\s*max\-width\s*:\s*(\s*[0-9\.]+)(px|em)\s*\)/)&&parseFloat(RegExp.$1)+(RegExp.$2||"")})}v()},u=function(){var a,b=g.createElement("div"),c=g.body,d=!1;return b.style.cssText="position:absolute;font-size:1em;width:1em",c||(c=d=g.createElement("body"),c.style.background="none"),c.appendChild(b),h.insertBefore(c,h.firstChild),a=b.offsetWidth,d?h.removeChild(c):c.removeChild(b),a=f=parseFloat(a)},v=function(b){var c="clientWidth",l=h[c],o="CSS1Compat"===g.compatMode&&l||g.body[c]||l,q={},r=p[p.length-1],s=(new Date).getTime();if(b&&d&&m>s-d)return a.clearTimeout(e),void(e=a.setTimeout(v,m));d=s;for(var t in i)if(i.hasOwnProperty(t)){var w=i[t],x=w.minw,y=w.maxw,z=null===x,A=null===y,B="em";x&&(x=parseFloat(x)*(x.indexOf(B)>-1?f||u():1)),y&&(y=parseFloat(y)*(y.indexOf(B)>-1?f||u():1)),w.hasquery&&(z&&A||!(z||o>=x)||!(A||y>=o))||(q[w.media]||(q[w.media]=[]),q[w.media].push(j[w.rules]))}for(var C in k)k.hasOwnProperty(C)&&k[C]&&k[C].parentNode===n&&n.removeChild(k[C]);for(var D in q)if(q.hasOwnProperty(D)){var E=g.createElement("style"),F=q[D].join("\n");E.type="text/css",E.media=D,n.insertBefore(E,r.nextSibling),E.styleSheet?E.styleSheet.cssText=F:E.appendChild(g.createTextNode(F)),k.push(E)}},w=function(a,b){var c=x();c&&(c.open("GET",a,!0),c.onreadystatechange=function(){4!==c.readyState||200!==c.status&&304!==c.status||b(c.responseText)},4!==c.readyState&&c.send(null))},x=function(){var b=!1;try{b=new a.XMLHttpRequest}catch(c){b=new a.ActiveXObject("Microsoft.XMLHTTP")}return function(){return b}}();r(),c.update=r,a.addEventListener?a.addEventListener("resize",b,!1):a.attachEvent&&a.attachEvent("onresize",b)}}(this),function(a,b,c){"use strict";a(function(){for(var b=a(this).find(".input-block input").length,c=1;c<=b;c++)a(".input-block input:nth-child("+c+")").blur(function(){var b=0;this.value||a(this).next().fadeIn(300),a(this).on("focus",function(){a(this).next().fadeOut(300),b++,b>0&&a(this).next().removeClass().empty()})})})}(jQuery,window,document);